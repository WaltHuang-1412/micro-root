{"version":3,"file":"vue-micro-root-config.js","mappings":"6BACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,ICIlF,MAAM,GAJGI,EAI8B,CAAE,cAAmB,IAAOC,EAA6D,cAAG,oBAAyB,IAAOA,EAAmE,oBAAG,MAAW,IAAOA,EAAqD,OAH3SC,EAAI,CAAC,EAAGhB,EAAoBiB,EAAED,EAAGF,GAAWE,GADzC,IAACF,EACJE,ECGCE,EADSC,SAASC,SAASC,WAAW,eAChB,cAAgB,GAGtCC,EAAW,SAACC,GAAY,SAAAC,OAAQN,GAAUM,OAAGD,EAAI,GAUvDE,EAAAA,EAAAA,qBAAoB,CAClBC,KAAM,mBACNC,IAAK,WAAF,OACDC,OAAM,OAAQ,qBAAqBC,MAAK,SAACC,GAAM,MAAM,CACnDC,UAAWD,EAAOC,UAClBC,MAAOF,EAAOE,MACdC,QAASH,EAAOG,QACjB,GAAE,EACLC,WAAY,CACV,SAACf,GAAQ,OACPA,EAASC,WAAaE,EAAS,MAC/BH,EAASC,SAASC,WAAWC,EAAS,QAAQ,GAElDa,YAAa,CACXC,WAAYC,SAASC,eAAe,wBAKxCb,EAAAA,EAAAA,qBAAoB,CAClBC,KAAM,gBACNC,IAAK,WAAF,OACDC,OAAM,OAAQ,kBAAkBC,MAAK,SAACC,GAAM,MAAM,CAChDC,UAAWD,EAAOC,UAClBC,MAAOF,EAAOE,MACdC,QAASH,EAAOG,QACjB,GAAE,EACLC,WAAY,CAACZ,EAAS,SACtBa,YAAa,CACXC,WAAYC,SAASC,eAAe,qBAKxCb,EAAAA,EAAAA,qBAAoB,CAClBC,KAAM,iBACNC,IAAK,WAAF,OACDC,OAAM,OAAQ,mBAAmBC,MAAK,SAACC,GAAM,MAAM,CACjDC,UAAWD,EAAOC,UAClBC,MAAOF,EAAOE,MACdC,QAASH,EAAOG,QACjB,GAAE,EACLC,WAAY,CAACZ,EAAS,UACtBa,YAAa,CACXC,WAAYC,SAASC,eAAe,gBAKxCC,EAAAA,EAAAA,OAAM,CAAEC,gBAAgB,IAGpBC,OAAOtB,SAASC,WAAa,GAALI,OAAQN,EAAU,OAC5CwB,EAAAA,EAAAA,eAAc,GAADlB,OAAIN,EAAU","sources":["webpack://root-config/webpack/bootstrap","webpack://root-config/webpack/runtime/define property getters","webpack://root-config/webpack/runtime/hasOwnProperty shorthand","webpack://root-config/external module \"single-spa\"","webpack://root-config/./src/vue-micro-root-config.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"navigateToUrl\"]: () => (__WEBPACK_EXTERNAL_MODULE_single_spa_e1524a87__.navigateToUrl), [\"registerApplication\"]: () => (__WEBPACK_EXTERNAL_MODULE_single_spa_e1524a87__.registerApplication), [\"start\"]: () => (__WEBPACK_EXTERNAL_MODULE_single_spa_e1524a87__.start) });","import { registerApplication, start, navigateToUrl } from \"single-spa\";\n\n// ✅ 自動判斷 base prefix\nconst isProd = location.pathname.startsWith(\"/micro-root\");\nconst basePrefix = isProd ? \"/micro-root\" : \"\";\n\n// ✅ 動態 activeWhen 建立器\nconst withBase = (path: string) => `${basePrefix}${path}`;\n\n// ✅ welcome\n// registerApplication({\n//   name: \"single-spa/welcome\",\n//   app: () => import(/* webpackIgnore: true */ \"@single-spa/welcome\"),\n//   activeWhen: [withBase(\"/welcome\")],\n// });\n\n// ✅ navbar\nregisterApplication({\n  name: \"vue-micro/navbar\",\n  app: () =>\n    System.import(\"@vue-micro/navbar\").then((module) => ({\n      bootstrap: module.bootstrap,\n      mount: module.mount,\n      unmount: module.unmount,\n    })),\n  activeWhen: [\n    (location) =>\n      location.pathname === withBase(\"/\") ||\n      location.pathname.startsWith(withBase(\"/sub\")),\n  ],\n  customProps: {\n    domElement: document.getElementById(\"app__navbar-slot\"),\n  },\n});\n\n// ✅ sub\nregisterApplication({\n  name: \"vue-micro/sub\",\n  app: () =>\n    System.import(\"@vue-micro/sub\").then((module) => ({\n      bootstrap: module.bootstrap,\n      mount: module.mount,\n      unmount: module.unmount,\n    })),\n  activeWhen: [withBase(\"/sub\")],\n  customProps: {\n    domElement: document.getElementById(\"app__sub-slot\"),\n  },\n});\n\n// ✅ auth\nregisterApplication({\n  name: \"vue-micro/auth\",\n  app: () =>\n    System.import(\"@vue-micro/auth\").then((module) => ({\n      bootstrap: module.bootstrap,\n      mount: module.mount,\n      unmount: module.unmount,\n    })),\n  activeWhen: [withBase(\"/auth\")],\n  customProps: {\n    domElement: document.getElementById(\"auth-app\"),\n  },\n});\n\n// ✅ 啟動 single-spa\nstart({ urlRerouteOnly: true });\n\n// ✅ 根路徑自動導向 /auth\nif (window.location.pathname === `${basePrefix}/`) {\n  navigateToUrl(`${basePrefix}/auth`);\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE_single_spa_e1524a87__","x","d","basePrefix","location","pathname","startsWith","withBase","path","concat","registerApplication","name","app","System","then","module","bootstrap","mount","unmount","activeWhen","customProps","domElement","document","getElementById","start","urlRerouteOnly","window","navigateToUrl"],"sourceRoot":""}